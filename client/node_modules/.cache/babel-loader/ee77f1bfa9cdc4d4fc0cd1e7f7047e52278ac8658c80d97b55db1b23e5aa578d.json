{"ast":null,"code":"import{useState,useEffect}from\"react\";import{BrowserRouter as Router,Route,Routes,useParams}from'react-router-dom';import{CiCirclePlus}from\"react-icons/ci\";import{IconContext}from\"react-icons\";import\"./index.css\";import axios from\"axios\";import LoadBoards from\"./components/BoardTasks\";import PomodoroTimer from\"./components/PomodoroTimer\";import RoomManager from\"./components/RoomManager\";import JoinRoom from\"./components/JoinRoom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[isAdding,setIsAdding]=useState(false);const[roomID,setRoomID]=useState(null);const[userID,setUserID]=useState(3);useEffect(()=>{// Get the room ID from the URL\nconst urlRoomID=new URL(window.location.href).pathname.split('/').pop();setRoomID(urlRoomID!=='App'?urlRoomID:null);},[]);const addBoard=async isShared=>{const response=await fetch('/add_board',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({board_name:'New Board',user_id:'${userID}'})});const newBoard=await response.json();setIsAdding(true);};const addNewBoard=async isShared=>{await addBoard(isShared);};return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(\"main\",{children:[/*#__PURE__*/_jsx(RoomManager,{}),roomID?/*#__PURE__*/_jsxs(\"div\",{className:\"flex columns-2 gap-2 mx-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(LoadBoards,{isAdding:isAdding,setIsAdding:setIsAdding,userID:userID,shared:true,roomID:roomID}),/*#__PURE__*/_jsx(LoadBoards,{isAdding:isAdding,setIsAdding:setIsAdding,userID:userID,shared:false,roomID:roomID}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-neutral flex\",onClick:()=>addNewBoard(false),children:[/*#__PURE__*/_jsx(IconContext.Provider,{value:{size:\"30\"},children:/*#__PURE__*/_jsx(CiCirclePlus,{})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg\",children:\"Add new board\"})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-neutral flex\",onClick:()=>addNewBoard(true),children:[/*#__PURE__*/_jsx(IconContext.Provider,{value:{size:\"30\"},children:/*#__PURE__*/_jsx(CiCirclePlus,{})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg\",children:\"Add new shared board\"})]})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(PomodoroTimer,{})})]}):/*#__PURE__*/_jsx(JoinRoom,{}),/*#__PURE__*/_jsx(Routes,{children:/*#__PURE__*/_jsx(Route,{path:\"/join_room/:roomID\",element:/*#__PURE__*/_jsx(JoinRoom,{})})})]})});}export default App;","map":{"version":3,"names":["useState","useEffect","BrowserRouter","Router","Route","Routes","useParams","CiCirclePlus","IconContext","axios","LoadBoards","PomodoroTimer","RoomManager","JoinRoom","jsx","_jsx","jsxs","_jsxs","App","isAdding","setIsAdding","roomID","setRoomID","userID","setUserID","urlRoomID","URL","window","location","href","pathname","split","pop","addBoard","isShared","response","fetch","method","headers","body","JSON","stringify","board_name","user_id","newBoard","json","addNewBoard","children","className","shared","onClick","Provider","value","size","path","element"],"sources":["D:/Documents/current-classes/CS4843/Pomigos/client/src/App.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { BrowserRouter as Router, Route, Routes, useParams } from 'react-router-dom';\r\nimport { CiCirclePlus } from \"react-icons/ci\";\r\nimport { IconContext } from \"react-icons\";\r\nimport \"./index.css\";\r\nimport axios from \"axios\";\r\nimport LoadBoards from \"./components/BoardTasks\";\r\nimport PomodoroTimer from \"./components/PomodoroTimer\";\r\nimport RoomManager from \"./components/RoomManager\";\r\nimport JoinRoom from \"./components/JoinRoom\";\r\n\r\nfunction App() {\r\n  const [isAdding, setIsAdding] = useState(false);\r\n  const [roomID, setRoomID] = useState(null);\r\n  const [userID, setUserID] = useState(3);\r\n\r\n  useEffect(() => {\r\n    // Get the room ID from the URL\r\n    const urlRoomID = new URL(window.location.href).pathname.split('/').pop();\r\n    setRoomID(urlRoomID !== 'App' ? urlRoomID : null);\r\n  }, []);\r\n  const addBoard = async (isShared) => {\r\n    const response = await fetch('/add_board', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ board_name: 'New Board', user_id: '${userID}'})\r\n    });\r\n    const newBoard = await response.json();\r\n    setIsAdding(true);\r\n  };\r\n\r\n  const addNewBoard = async (isShared) => {\r\n    await addBoard(isShared);\r\n};\r\n  return (\r\n    <Router>\r\n      <main>\r\n        <RoomManager />\r\n        {roomID ? (\r\n          <div className=\"flex columns-2 gap-2 mx-2\">\r\n            <div className=\"flex gap-2\">\r\n              <LoadBoards\r\n                isAdding={isAdding}\r\n                setIsAdding={setIsAdding}\r\n                userID={userID}\r\n                shared={true}\r\n                roomID={roomID}\r\n              />\r\n              <LoadBoards\r\n                isAdding={isAdding}\r\n                setIsAdding={setIsAdding}\r\n                userID={userID}\r\n                shared={false}\r\n                roomID={roomID}\r\n              />\r\n              <button className=\"btn btn-neutral flex\" onClick={() => addNewBoard(false)}>\r\n                <IconContext.Provider value={{ size: \"30\" }}>\r\n                  <CiCirclePlus />\r\n                </IconContext.Provider>\r\n                <p className=\"text-lg\">Add new board</p>\r\n              </button>\r\n              <button className=\"btn btn-neutral flex\" onClick={() => addNewBoard(true)}>\r\n                <IconContext.Provider value={{ size: \"30\" }}>\r\n                  <CiCirclePlus />\r\n                </IconContext.Provider>\r\n                <p className=\"text-lg\">Add new shared board</p>\r\n              </button>\r\n            </div>\r\n            <div>\r\n              <PomodoroTimer />\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <JoinRoom />\r\n        )}\r\n        <Routes>\r\n          <Route path=\"/join_room/:roomID\" element={<JoinRoom />} />\r\n        </Routes>\r\n      </main>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}